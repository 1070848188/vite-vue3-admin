import{z as Ne,V as d,U as le,Z as Xe,a3 as Ge,X as a,a8 as T,r as I,bB as Ze,F as Ve,w as G,aa as Te,b5 as Je,a5 as Se,a4 as qe,aG as Qe,T as ee,aB as Ee,aX as et,au as te,d as Fe,bC as tt,aN as at,L as Ce,Y as ae,bD as ot,bE as nt,bF as st,ag as lt,ah as N,ab as rt,ad as it,o as f,c as w,al as m,af as oe,n as b,aj as W,b as V,e as E,g as D,ak as Y,aC as K,at as ne,f as ut,bG as ct,aS as dt,$ as pt,aA as X,ac as ft,a7 as vt,am as ze,an as mt}from"./index-20f5cda3.js";function ht(o){return o==null}class yt extends Error{constructor(n){super(n),this.name="ElementPlusError"}}function jt(o,n){throw new yt(`[${o}] ${n}`)}function Ut(o,n){}const se="update:modelValue",Wt="change",Yt="input",bt=()=>Ne&&/firefox/i.test(window.navigator.userAgent),gt=o=>/([(\uAC00-\uD7AF)|(\u3130-\u318F)])+/gi.test(o),xt=["class","style"],wt=/^on[A-Z]/,It=(o={})=>{const{excludeListeners:n=!1,excludeKeys:s}=o,t=d(()=>((s==null?void 0:s.value)||[]).concat(xt)),l=le();return l?d(()=>{var r;return Xe(Object.entries((r=l.proxy)==null?void 0:r.$attrs).filter(([c])=>!t.value.includes(c)&&!(n&&wt.test(c))))}):d(()=>({}))},_e=o=>{const n=le();return d(()=>{var s,t;return(t=(s=n==null?void 0:n.proxy)==null?void 0:s.$props)==null?void 0:t[o]})},Pe={prefix:Math.floor(Math.random()*1e4),current:0},St=Symbol("elIdInjection"),Et=()=>le()?T(St,Pe):Pe,Ct=o=>{const n=Et(),s=Ge();return d(()=>a(o)||`${s.value}-id-${n.prefix}-${n.current++}`)};function zt(o){const n=I();function s(){if(o.value==null)return;const{selectionStart:l,selectionEnd:r,value:c}=o.value;if(l==null||r==null)return;const y=c.slice(0,Math.max(0,l)),p=c.slice(Math.max(0,r));n.value={selectionStart:l,selectionEnd:r,value:c,beforeTxt:y,afterTxt:p}}function t(){if(o.value==null||n.value==null)return;const{value:l}=o.value,{beforeTxt:r,afterTxt:c,selectionStart:y}=n.value;if(r==null||c==null||y==null)return;let p=l.length;if(l.endsWith(c))p=l.length-c.length;else if(l.startsWith(r))p=r.length;else{const h=r[y-1],C=l.indexOf(h,y-1);C!==-1&&(p=C+1)}o.value.setSelectionRange(p,p)}return[s,t]}const re=Symbol("formContextKey"),$e=Symbol("formItemContextKey"),Pt=(o,n={})=>{const s=I(void 0),t=n.prop?s:_e("size"),l=n.global?s:Ze(),r=n.form?{size:void 0}:T(re,void 0),c=n.formItem?{size:void 0}:T($e,void 0);return d(()=>t.value||a(o)||(c==null?void 0:c.size)||(r==null?void 0:r.size)||l.value||"")},kt=o=>{const n=_e("disabled"),s=T(re,void 0);return d(()=>n.value||a(o)||(s==null?void 0:s.disabled)||!1)},Nt=()=>{const o=T(re,void 0),n=T($e,void 0);return{form:o,formItem:n}},Vt=(o,{formItemContext:n,disableIdGeneration:s,disableIdManagement:t})=>{s||(s=I(!1)),t||(t=I(!1));const l=I();let r;const c=d(()=>{var y;return!!(!o.label&&n&&n.inputIds&&((y=n.inputIds)==null?void 0:y.length)<=1)});return Ve(()=>{r=G([Te(o,"id"),s],([y,p])=>{const h=y??(p?void 0:Ct().value);h!==l.value&&(n!=null&&n.removeInputId&&(l.value&&n.removeInputId(l.value),!(t!=null&&t.value)&&!p&&h&&n.addInputId(h)),l.value=h)},{immediate:!0})}),Je(()=>{r&&r(),n!=null&&n.removeInputId&&l.value&&n.removeInputId(l.value)}),{isLabeledByFormItem:c,inputId:l}};let g;const Tt=`
  height:0 !important;
  visibility:hidden !important;
  ${bt()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,Ft=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function _t(o){const n=window.getComputedStyle(o),s=n.getPropertyValue("box-sizing"),t=Number.parseFloat(n.getPropertyValue("padding-bottom"))+Number.parseFloat(n.getPropertyValue("padding-top")),l=Number.parseFloat(n.getPropertyValue("border-bottom-width"))+Number.parseFloat(n.getPropertyValue("border-top-width"));return{contextStyle:Ft.map(c=>`${c}:${n.getPropertyValue(c)}`).join(";"),paddingSize:t,borderSize:l,boxSizing:s}}function ke(o,n=1,s){var t;g||(g=document.createElement("textarea"),document.body.appendChild(g));const{paddingSize:l,borderSize:r,boxSizing:c,contextStyle:y}=_t(o);g.setAttribute("style",`${y};${Tt}`),g.value=o.value||o.placeholder||"";let p=g.scrollHeight;const h={};c==="border-box"?p=p+r:c==="content-box"&&(p=p-l),g.value="";const C=g.scrollHeight-l;if(Se(n)){let v=C*n;c==="border-box"&&(v=v+l+r),p=Math.max(v,p),h.minHeight=`${v}px`}if(Se(s)){let v=C*s;c==="border-box"&&(v=v+l+r),p=Math.min(v,p)}return h.height=`${p}px`,(t=g.parentNode)==null||t.removeChild(g),g=void 0,h}const $t=qe({id:{type:String,default:void 0},size:Qe,disabled:Boolean,modelValue:{type:ee([String,Number,Object]),default:""},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:ee([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:Ee},prefixIcon:{type:Ee},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:ee([Object,Array,String]),default:()=>et({})}}),Rt={[se]:o=>te(o),input:o=>te(o),change:o=>te(o),focus:o=>o instanceof FocusEvent,blur:o=>o instanceof FocusEvent,clear:()=>!0,mouseleave:o=>o instanceof MouseEvent,mouseenter:o=>o instanceof MouseEvent,keydown:o=>o instanceof Event,compositionstart:o=>o instanceof CompositionEvent,compositionupdate:o=>o instanceof CompositionEvent,compositionend:o=>o instanceof CompositionEvent},Bt=["role"],At=["id","type","disabled","formatter","parser","readonly","autocomplete","tabindex","aria-label","placeholder","form"],Dt=["id","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form"],Kt=Fe({name:"ElInput",inheritAttrs:!1}),Lt=Fe({...Kt,props:$t,emits:Rt,setup(o,{expose:n,emit:s}){const t=o,l=tt(),r=at(),c=d(()=>{const e={};return t.containerRole==="combobox"&&(e["aria-haspopup"]=l["aria-haspopup"],e["aria-owns"]=l["aria-owns"],e["aria-expanded"]=l["aria-expanded"]),e}),y=d(()=>[t.type==="textarea"?ue.b():i.b(),i.m(Re.value),i.is("disabled",P.value),i.is("exceed",De.value),{[i.b("group")]:r.prepend||r.append,[i.bm("group","append")]:r.append,[i.bm("group","prepend")]:r.prepend,[i.m("prefix")]:r.prefix||t.prefixIcon,[i.m("suffix")]:r.suffix||t.suffixIcon||t.clearable||t.showPassword,[i.bm("suffix","password-clear")]:H.value&&J.value},l.class]),p=d(()=>[i.e("wrapper"),i.is("focus",F.value)]),h=It({excludeKeys:d(()=>Object.keys(c.value))}),{form:C,formItem:v}=Nt(),{inputId:ie}=Vt(t,{formItemContext:v}),Re=Pt(),P=kt(),i=Ce("input"),ue=Ce("textarea"),L=ae(),S=ae(),F=I(!1),Z=I(!1),_=I(!1),M=I(!1),ce=I(),O=ae(t.inputStyle),$=d(()=>L.value||S.value),de=d(()=>{var e;return(e=C==null?void 0:C.statusIcon)!=null?e:!1}),R=d(()=>(v==null?void 0:v.validateState)||""),pe=d(()=>R.value&&ot[R.value]),Be=d(()=>M.value?nt:st),Ae=d(()=>[l.style,t.inputStyle]),fe=d(()=>[t.inputStyle,O.value,{resize:t.resize}]),z=d(()=>ht(t.modelValue)?"":String(t.modelValue)),H=d(()=>t.clearable&&!P.value&&!t.readonly&&!!z.value&&(F.value||Z.value)),J=d(()=>t.showPassword&&!P.value&&!t.readonly&&!!z.value&&(!!z.value||F.value)),k=d(()=>t.showWordLimit&&!!h.value.maxlength&&(t.type==="text"||t.type==="textarea")&&!P.value&&!t.readonly&&!t.showPassword),q=d(()=>z.value.length),De=d(()=>!!k.value&&q.value>Number(h.value.maxlength)),Ke=d(()=>!!r.suffix||!!t.suffixIcon||H.value||t.showPassword||k.value||!!R.value&&de.value),[Le,Me]=zt(L);lt(S,e=>{if(Oe(),!k.value||t.resize!=="both")return;const u=e[0],{width:x}=u.contentRect;ce.value={right:`calc(100% - ${x+15+6}px)`}});const B=()=>{const{type:e,autosize:u}=t;if(!(!Ne||e!=="textarea"||!S.value))if(u){const x=ze(u)?u.minRows:void 0,U=ze(u)?u.maxRows:void 0,Ie=ke(S.value,x,U);O.value={overflowY:"hidden",...Ie},N(()=>{S.value.offsetHeight,O.value=Ie})}else O.value={minHeight:ke(S.value).minHeight}},Oe=(e=>{let u=!1;return()=>{var x;if(u||!t.autosize)return;((x=S.value)==null?void 0:x.offsetParent)===null||(e(),u=!0)}})(B),A=()=>{const e=$.value;!e||e.value===z.value||(e.value=z.value)},Q=async e=>{Le();let{value:u}=e.target;if(t.formatter&&(u=t.parser?t.parser(u):u,u=t.formatter(u)),!_.value){if(u===z.value){A();return}s(se,u),s("input",u),await N(),A(),Me()}},ve=e=>{s("change",e.target.value)},me=e=>{s("compositionstart",e),_.value=!0},he=e=>{var u;s("compositionupdate",e);const x=(u=e.target)==null?void 0:u.value,U=x[x.length-1]||"";_.value=!gt(U)},ye=e=>{s("compositionend",e),_.value&&(_.value=!1,Q(e))},He=()=>{M.value=!M.value,j()},j=async()=>{var e;await N(),(e=$.value)==null||e.focus()},je=()=>{var e;return(e=$.value)==null?void 0:e.blur()},be=e=>{F.value=!0,s("focus",e)},ge=e=>{var u;F.value=!1,s("blur",e),t.validateEvent&&((u=v==null?void 0:v.validate)==null||u.call(v,"blur").catch(x=>void 0))},Ue=e=>{Z.value=!1,s("mouseleave",e)},We=e=>{Z.value=!0,s("mouseenter",e)},xe=e=>{s("keydown",e)},Ye=()=>{var e;(e=$.value)==null||e.select()},we=()=>{s(se,""),s("change",""),s("clear"),s("input","")};return G(()=>t.modelValue,()=>{var e;N(()=>B()),t.validateEvent&&((e=v==null?void 0:v.validate)==null||e.call(v,"change").catch(u=>void 0))}),G(z,()=>A()),G(()=>t.type,async()=>{await N(),A(),B()}),Ve(()=>{!t.formatter&&t.parser,A(),N(B)}),n({input:L,textarea:S,ref:$,textareaStyle:fe,autosize:Te(t,"autosize"),focus:j,blur:je,select:Ye,clear:we,resizeTextarea:B}),(e,u)=>rt((f(),w("div",ne(a(c),{class:a(y),style:a(Ae),role:e.containerRole,onMouseenter:We,onMouseleave:Ue}),[m(" input "),e.type!=="textarea"?(f(),w(oe,{key:0},[m(" prepend slot "),e.$slots.prepend?(f(),w("div",{key:0,class:b(a(i).be("group","prepend"))},[W(e.$slots,"prepend")],2)):m("v-if",!0),V("div",{class:b(a(p))},[m(" prefix slot "),e.$slots.prefix||e.prefixIcon?(f(),w("span",{key:0,class:b(a(i).e("prefix"))},[V("span",{class:b(a(i).e("prefix-inner")),onClick:j},[W(e.$slots,"prefix"),e.prefixIcon?(f(),E(a(K),{key:0,class:b(a(i).e("icon"))},{default:D(()=>[(f(),E(Y(e.prefixIcon)))]),_:1},8,["class"])):m("v-if",!0)],2)],2)):m("v-if",!0),V("input",ne({id:a(ie),ref_key:"input",ref:L,class:a(i).e("inner")},a(h),{type:e.showPassword?M.value?"text":"password":e.type,disabled:a(P),formatter:e.formatter,parser:e.parser,readonly:e.readonly,autocomplete:e.autocomplete,tabindex:e.tabindex,"aria-label":e.label,placeholder:e.placeholder,style:e.inputStyle,form:t.form,onCompositionstart:me,onCompositionupdate:he,onCompositionend:ye,onInput:Q,onFocus:be,onBlur:ge,onChange:ve,onKeydown:xe}),null,16,At),m(" suffix slot "),a(Ke)?(f(),w("span",{key:1,class:b(a(i).e("suffix"))},[V("span",{class:b(a(i).e("suffix-inner")),onClick:j},[!a(H)||!a(J)||!a(k)?(f(),w(oe,{key:0},[W(e.$slots,"suffix"),e.suffixIcon?(f(),E(a(K),{key:0,class:b(a(i).e("icon"))},{default:D(()=>[(f(),E(Y(e.suffixIcon)))]),_:1},8,["class"])):m("v-if",!0)],64)):m("v-if",!0),a(H)?(f(),E(a(K),{key:1,class:b([a(i).e("icon"),a(i).e("clear")]),onMousedown:dt(a(pt),["prevent"]),onClick:we},{default:D(()=>[ut(a(ct))]),_:1},8,["class","onMousedown"])):m("v-if",!0),a(J)?(f(),E(a(K),{key:2,class:b([a(i).e("icon"),a(i).e("password")]),onClick:He},{default:D(()=>[(f(),E(Y(a(Be))))]),_:1},8,["class"])):m("v-if",!0),a(k)?(f(),w("span",{key:3,class:b(a(i).e("count"))},[V("span",{class:b(a(i).e("count-inner"))},X(a(q))+" / "+X(a(h).maxlength),3)],2)):m("v-if",!0),a(R)&&a(pe)&&a(de)?(f(),E(a(K),{key:4,class:b([a(i).e("icon"),a(i).e("validateIcon"),a(i).is("loading",a(R)==="validating")])},{default:D(()=>[(f(),E(Y(a(pe))))]),_:1},8,["class"])):m("v-if",!0)],2)],2)):m("v-if",!0)],2),m(" append slot "),e.$slots.append?(f(),w("div",{key:1,class:b(a(i).be("group","append"))},[W(e.$slots,"append")],2)):m("v-if",!0)],64)):(f(),w(oe,{key:1},[m(" textarea "),V("textarea",ne({id:a(ie),ref_key:"textarea",ref:S,class:a(ue).e("inner")},a(h),{tabindex:e.tabindex,disabled:a(P),readonly:e.readonly,autocomplete:e.autocomplete,style:a(fe),"aria-label":e.label,placeholder:e.placeholder,form:t.form,onCompositionstart:me,onCompositionupdate:he,onCompositionend:ye,onInput:Q,onFocus:be,onBlur:ge,onChange:ve,onKeydown:xe}),null,16,Dt),a(k)?(f(),w("span",{key:0,style:ft(ce.value),class:b(a(i).e("count"))},X(a(q))+" / "+X(a(h).maxlength),7)):m("v-if",!0)],64))],16,Bt)),[[it,e.type!=="hidden"]])}});var Mt=vt(Lt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/input/src/input.vue"]]);const Xt=mt(Mt);export{Wt as C,Xt as E,Yt as I,se as U,Ct as a,Nt as b,Pt as c,kt as d,Vt as e,$e as f,Ut as g,re as h,ht as i,jt as t,Et as u};
