import"./el-input-68d26b01.js";import{E as k}from"./el-button-57469a7e.js";import{d as x,G as w,r as c,a as b,w as L,c as E,b as t,n as _,e as g,f as B,g as C,p as I,h as S,o as r,i as q,u as N,j as z,l as G,k as T,E as V,m as $,q as j,s as F,_ as M}from"./index-6fd20277.js";import R from"./loginUser-0303ea13.js";import A from"./loginPhone-49060d8c.js";import"./el-form-item-cda2e555.js";const O=n=>(I("data-v-1ff851ee"),n=n(),S(),n),P={class:"container"},Q={class:"login"},U=O(()=>t("img",{class:"login-img",src:"https://template.qszone.com/assets/login_banner-6e96327c.webp",alt:""},null,-1)),D={class:"login-form"},H={class:"header"},J={class:"content"},K={class:"content-form"},W=x({__name:"index",setup(n){const f=N(),m=z(),p=w(),a=c(!0),i=c(!1),u=c();function h(){var e;(e=u.value)==null||e.handleLogin()}async function v(e){i.value=!0;try{const{code:o,msg:s,data:d}=await G(e);o===200?(p.setToken(d.access_token),await T(),f.push(l),V({title:$(),message:j("i",{style:"color: teal"},"欢迎登录后台管理系统"),type:"success",duration:3e3})):F.error(s)}finally{i.value=!1}}const l=b({path:"/",query:{}});L(()=>m,e=>{const{query:o}=e;l.path=o.redirect||"/",l.query=y(o)},{immediate:!0});function y(e){return Object.keys(e).reduce((o,s)=>(s!=="redirect"&&(o[s]=e[s]),o),{})}return(e,o)=>{const s=k;return r(),E("div",P,[t("div",Q,[U,t("div",D,[t("div",H,[t("i",{class:_(`iconfont fa-lg iconcolor icon-${a.value?"saomadenglu1":"mimadenglu"}`)},null,2),t("i",{class:_(`iconfont cursor el-icon--right fa-lg pointer icon-${a.value?"saomadenglu":"diannaodenglu"}`),onClick:o[0]||(o[0]=d=>a.value=!a.value)},null,2)]),t("div",J,[t("div",K,[a.value?(r(),g(R,{key:0,ref_key:"userLogin",ref:u,onLogin:v},null,512)):(r(),g(A,{key:1}))]),B(s,{size:"large",type:"primary",style:{width:"100%"},loading:i.value,onClick:h},{default:C(()=>[q("登录")]),_:1},8,["loading"])])])])])}}});const se=M(W,[["__scopeId","data-v-1ff851ee"]]);export{se as default};
